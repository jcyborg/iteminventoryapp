import './polyfills.server.mjs';
import{B as O,C as w,D as R,E as b,F as A,G as j,H,I as $,L as z,P as q,R as B,S as Q,a as F,b as _,c as m,d as p,e as u,f as C,g as s,h as n,i,j as D,k as d,l as E,m as r,n as c,o as N,p as l,q as M,r as U,w as T,z as k}from"./chunk-4ZNQALZB.mjs";var h=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=m({type:o,selectors:[["app-navbar"]],standalone:!0,features:[l],decls:2,vars:0,template:function(e,a){e&1&&(n(0,"p"),r(1,"navbar works!"),i())}})};var S=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=m({type:o,selectors:[["app-footer"]],standalone:!0,features:[l],decls:2,vars:0,template:function(e,a){e&1&&(n(0,"p"),r(1,"footer works!"),i())}})};var y=class o{title="inventory-app";static \u0275fac=function(e){return new(e||o)};static \u0275cmp=m({type:o,selectors:[["app-root"]],standalone:!0,features:[l],decls:3,vars:0,template:function(e,a){e&1&&D(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[q,h,S]})};var f=class o{constructor(t){this.http=t}apiUrl="http://localhost:5051/api/items";uploadFile(t){let e=new FormData;return e.append("file",t),this.http.post(`${this.apiUrl}/upload`,e)}getItems(t=1,e=20){return this.http.get(`${this.apiUrl}?page=${t}&pageSize=${e}`)}static \u0275fac=function(e){return new(e||o)(_(A))};static \u0275prov=F({token:o,factory:o.\u0275fac,providedIn:"root"})};function W(o,t){if(o&1&&(n(0,"p"),r(1),i()),o&2){let e=E();p(),c(e.message)}}var v=class o{constructor(t,e){this.itemService=t;this.router=e}selectedFile=null;message=null;onFileSelected(t){this.selectedFile=t.target.files[0]}onUpload(){this.selectedFile?this.itemService.uploadFile(this.selectedFile).subscribe({next:()=>{alert("File uploaded successfully."),this.router.navigate(["/items"])},error:t=>console.error("Error uploading file:",t)}):alert("Please select a file before uploading.")}static \u0275fac=function(e){return new(e||o)(u(f),u(B))};static \u0275cmp=m({type:o,selectors:[["app-upload"]],standalone:!0,features:[l],decls:6,vars:2,consts:[["type","file",3,"change"],[3,"click","disabled"],[4,"ngIf"]],template:function(e,a){e&1&&(n(0,"h2"),r(1,"Upload Items File"),i(),n(2,"input",0),d("change",function(L){return a.onFileSelected(L)}),i(),n(3,"button",1),d("click",function(){return a.onUpload()}),r(4,"Upload"),i(),C(5,W,2,1,"p",2)),e&2&&(p(3),s("disabled",!a.selectedFile),p(2),s("ngIf",a.message))},dependencies:[b,w],styles:["div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;width:300px}button[_ngcontent-%COMP%]{padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]})};function X(o,t){if(o&1&&(n(0,"tr")(1,"td"),r(2),i(),n(3,"td"),r(4),i(),n(5,"td"),r(6),i(),n(7,"td"),r(8),M(9,"currency"),i()()),o&2){let e=t.$implicit;p(2),c(e.itemNo),p(2),c(e.itemDescription),p(2),c(e.quantity),p(2),c(U(9,4,e.price))}}var x=class o{constructor(t){this.itemService=t}items=[];currentPage=1;pageSize=20;totalPages=0;ngOnInit(){this.fetchItems()}fetchItems(){this.itemService.getItems(this.currentPage,this.pageSize).subscribe({next:t=>{this.items=t.data,this.totalPages=t.totalPages},error:t=>console.error("Error fetching items:",t)})}changePage(t){t>0&&t<=this.totalPages&&(this.currentPage=t,this.fetchItems())}static \u0275fac=function(e){return new(e||o)(u(f))};static \u0275cmp=m({type:o,selectors:[["app-items"]],standalone:!0,features:[l],decls:20,vars:5,consts:[[4,"ngFor","ngForOf"],[1,"pagination"],[3,"click","disabled"]],template:function(e,a){e&1&&(n(0,"table")(1,"thead")(2,"tr")(3,"th"),r(4,"Item No"),i(),n(5,"th"),r(6,"Description"),i(),n(7,"th"),r(8,"Quantity"),i(),n(9,"th"),r(10,"Price"),i()()(),n(11,"tbody"),C(12,X,10,6,"tr",0),i()(),n(13,"div",1)(14,"button",2),d("click",function(){return a.changePage(a.currentPage-1)}),r(15,"Previous"),i(),n(16,"span"),r(17),i(),n(18,"button",2),d("click",function(){return a.changePage(a.currentPage+1)}),r(19,"Next"),i()()),e&2&&(p(12),s("ngForOf",a.items),p(2),s("disabled",a.currentPage===1),p(3),N("Page ",a.currentPage," of ",a.totalPages,""),p(),s("disabled",a.currentPage===a.totalPages))},dependencies:[b,O,R]})};var G=[{path:"",component:v},{path:"upload",component:v},{path:"items",component:x},{path:"",redirectTo:"upload",pathMatch:"full"}];var J={providers:[T({eventCoalescing:!0}),Q(G),$(),j()]};var Y={providers:[z()]},K=k(J,Y);var ee=()=>H(y,K),Ue=ee;export{Ue as a};
